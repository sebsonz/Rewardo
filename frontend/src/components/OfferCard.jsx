import React from 'react';
import axios from 'axios';
export default function OfferCard({offer}){const token = localStorage.getItem('token');async function claim(){try{const r = await axios.post('http://localhost:3000/api/claim/'+offer.id,{}, {headers:{Authorization:'Bearer '+token}}); alert('Points reçus: '+r.data.points); window.location.reload();}catch(e){console.error(e); alert('Erreur');}}return (<div style={{border:'1px solid #ddd',padding:12,borderRadius:6}}><h4>{offer.title}</h4><p>{offer.description}</p><p><strong>Points: {offer.reward_points || offer.reward_points}</strong></p><p>Location: {offer.location}</p><div style={{marginTop:8}}><a href={offer.link} target='_blank' rel='noreferrer'><button>Go to offer</button></a><button onClick={claim} style={{marginLeft:8}}>Réclamer</button></div></div>);}